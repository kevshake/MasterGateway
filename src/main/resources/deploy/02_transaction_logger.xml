<?xml version="1.0" encoding="UTF-8"?>
<!-- Transaction Processing Logger Configuration -->
<logger name="TXN" class="org.jpos.q2.qbean.LoggerAdaptor">
    <!-- Protected Log Listener for masking sensitive transaction fields -->
    <log-listener class="org.jpos.util.ProtectedLogListener">
        <!-- Protect PAN, Track 2, and PIN data -->
        <property name="protect" value="2 35 52" />
        <!-- Wipe EMV data and sensitive authentication fields -->
        <property name="wipe" value="45 55 53" />
    </log-listener>
    
    <!-- Daily Log Listener with rotation -->
    <log-listener class="org.jpos.util.DailyLogListener">
        <property name="window" value="86400" /> <!-- 24 hours -->
        <property name="prefix" value="logs/transactions" />
        <property name="suffix" value=".log" />
        <property name="date-format" value="_yyyy-MM-dd" />
        <property name="compression-format" value="gzip" />
        <property name="compressed-suffix" value=".gz" />
        <property name="maxsize" value="52428800" /> <!-- 50MB -->
        <property name="compression-buffer-size" value="65536" /> <!-- 64KB -->
    </log-listener>
</logger>
